function e(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},i=n.parcelRequireaad2;let a;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in r){var t=r[e];delete r[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},n.parcelRequireaad2=i),i.register("76Dae",(function(t,n){var o,r;e(t.exports,"resolve",(function(){return r}),(function(e){return r=e})),e(t.exports,"register",(function(){return o}),(function(e){return o=e}));var i={};o=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)i[t[n]]=e[t[n]]},r=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i("76Dae").register(JSON.parse('{"l1Uh4":"index.ec23e3a2.js","lquA7":"intcode_wasm_bg.83b2863a.wasm"}'));let s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});s.decode();let l=null;function c(){return null!==l&&l.buffer===a.memory.buffer||(l=new Uint8Array(a.memory.buffer)),l}function u(e,t){return s.decode(c().subarray(e,e+t))}const d=new Array(32).fill(void 0);d.push(void 0,null,!0,!1);let f=d.length;function g(e){f===d.length&&d.push(d.length+1);const t=f;return f=d[t],d[t]=e,t}function b(e){return d[e]}function m(e){const t=b(e);return function(e){e<36||(d[e]=f,f=e)}(e),t}let h=0,_=new TextEncoder("utf-8");const p="function"==typeof _.encodeInto?function(e,t){return _.encodeInto(e,t)}:function(e,t){const n=_.encode(e);return t.set(n),{read:e.length,written:n.length}};function w(e,t,n){if(void 0===n){const n=_.encode(e),o=t(n.length);return c().subarray(o,o+n.length).set(n),h=n.length,o}let o=e.length,r=t(o);const i=c();let a=0;for(;a<o;a++){const t=e.charCodeAt(a);if(t>127)break;i[r+a]=t}if(a!==o){0!==a&&(e=e.slice(a)),r=n(r,o,o=a+3*e.length);const t=c().subarray(r+a,r+o);a+=p(e,t).written}return h=a,r}let y=null;function v(){return null!==y&&y.buffer===a.memory.buffer||(y=new Int32Array(a.memory.buffer)),y}i.register("9ODWH",(function(e,t){e.exports=new URL(i("76Dae").resolve("lquA7"),import.meta.url).toString()}));var x=async function e(t){void 0===t&&(t=new URL(i("9ODWH")));const n={wbg:{}};n.wbg.__wbindgen_json_parse=function(e,t){return g(JSON.parse(u(e,t)))},n.wbg.__wbindgen_string_new=function(e,t){return g(u(e,t))},n.wbg.__wbg_new_59cb74e423758ede=function(){return g(new Error)},n.wbg.__wbg_stack_558ba5917b466edd=function(e,t){var n=w(b(t).stack,a.__wbindgen_malloc,a.__wbindgen_realloc),o=h;v()[e/4+1]=o,v()[e/4+0]=n},n.wbg.__wbg_error_4bb6c2a97407129a=function(e,t){try{console.error(u(e,t))}finally{a.__wbindgen_free(e,t)}},n.wbg.__wbindgen_object_drop_ref=function(e){m(e)},n.wbg.__wbindgen_rethrow=function(e){throw m(e)},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:o,module:r}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,n);return a=o.exports,e.__wbindgen_wasm_module=r,a.__wbindgen_start(),a};i.register("bJIA8",(function(e,t){ace.define("ace/mode/assembly_intcode_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var o=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,i=function(){this.$rules={start:[{token:"keyword.control",regex:"\\b(?:ADD|MUL|IN|OUT|JNZ|JZ|LT|EQ|ARB|HLT|DB)\\b"},{token:"variable.language",regex:"\\b(?:_|ip|rb)\\b"},{token:"keyword.operator",regex:"(?:#)"},{token:"constant.numeric",regex:"\\b(?:[0-9][A-z0-9]*)\\b"},{token:"string",regex:/'([^\\']|\\.)*'/},{token:"string",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function",regex:"^[\\w.]+?:"},{token:"entity.name.function",regex:"\\b(?:[a-z_]+)\\b"},{token:"comment",regex:";.*$"}]},this.normalizeRules()};i.metaData={fileTypes:["asm"],name:"Assembly Intcode"},o.inherits(i,r),t.AssemblyIntcodeHighlightRules=i})),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],(function(e,t,n){var o=e("../../lib/oop"),r=e("./fold_mode").FoldMode,i=e("../../range").Range,a=t.FoldMode=function(){};o.inherits(a,r),function(){this.getFoldWidgetRange=function(e,t,n){var o=this.indentationBlock(e,n);if(o)return o;var r=/\S/,a=e.getLine(n),s=a.search(r);if(-1!=s&&"#"==a[s]){for(var l=a.length,c=e.getLength(),u=n,d=n;++n<c;){var f=(a=e.getLine(n)).search(r);if(-1!=f){if("#"!=a[f])break;d=n}}if(d>u){var g=e.getLine(d).length;return new i(u,l,d,g)}}},this.getFoldWidget=function(e,t,n){var o=e.getLine(n),r=o.search(/\S/),i=e.getLine(n+1),a=e.getLine(n-1),s=a.search(/\S/),l=i.search(/\S/);if(-1==r)return e.foldWidgets[n-1]=-1!=s&&s<l?"start":"","";if(-1==s){if(r==l&&"#"==o[r]&&"#"==i[r])return e.foldWidgets[n-1]="",e.foldWidgets[n+1]="","start"}else if(s==r&&"#"==o[r]&&"#"==a[r]&&-1==e.getLine(n-2).search(/\S/))return e.foldWidgets[n-1]="start",e.foldWidgets[n+1]="","";return e.foldWidgets[n-1]=-1!=s&&s<r?"start":"",r<l?"start":""}}.call(a.prototype)})),ace.define("ace/mode/assembly_intcode",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/assembly_intcode_highlight_rules","ace/mode/folding/coffee"],(function(e,t,n){var o=e("../lib/oop"),r=e("./text").Mode,i=e("./assembly_intcode_highlight_rules").AssemblyIntcodeHighlightRules,a=e("./folding/coffee").FoldMode,s=function(){this.HighlightRules=i,this.foldingRules=new a,this.$behaviour=this.$defaultBehaviour};o.inherits(s,r),function(){this.lineCommentStart=[";"],this.$id="ace/mode/assembly_intcode"}.call(s.prototype),t.Mode=s})),ace.require(["ace/mode/assembly_intcode"],(function(n){"object"==typeof t&&e&&(e.exports=n)}))}));var L=i("bJIA8");let A=ace.edit("editor"),k=document.getElementById("terminal"),R=document.getElementById("run"),T=document.getElementById("input");function E(){Array.from(document.getElementsByClassName("copy")).forEach((e=>{let t=e.innerHTML;e.addEventListener("click",(()=>{var n;navigator.clipboard.writeText(t).then((()=>{e.innerHTML="Copied intcode to clipboard!"})).then((n=2e3,e=>new Promise((t=>setTimeout((()=>t(e)),n))))).then((()=>{e.innerHTML=t}))}))}))}function H(e){try{let r=(n=null==(t=e)?0:w(t,a.__wbindgen_malloc,a.__wbindgen_realloc),o=h,m(a.next(n,o)));S(r.output,"output"),"Complete"==r.state?(S("Done!"),M()):(T.classList.remove("disabled"),T.focus())}catch(e){S("<span class='hl-error'>error</span>: "+e,"output"),M()}var t,n,o}function M(){T.value="",R.onclick=D,T.classList.add("disabled"),R.classList.remove("disabled")}function W(){S("Canceled!"),M()}function S(e,t){let n=document.createElement("log");n.innerHTML=e,n.className=t,k.appendChild(n)}function D(){R.onclick=W,R.classList.add("disabled");let e=(t=A.getValue(),n=w(t,a.__wbindgen_malloc,a.__wbindgen_realloc),o=h,m(a.assemble(n,o)));var t,n,o;k.innerHTML="","Failed"==e.state?(S("Failed to compile program."),S(e.output,"output"),M()):(S("Successfully compiled program:"),S(e.intcode,"output copy"),S(e.output,"output"),S("Executing program..."),E(),H(null))}!async function(){await x(),A.setTheme("ace/theme/tomorrow_night_eighties"),A.session.setMode(new L.Mode),A.session.setValue(t('    ARB #message  ; move the relative base to the beginning of our message\n\nloop:\n    OUT rb        ; output the current character in the message\n    ARB #1        ; move the relative base to the next character\n    JNZ rb, #loop ; if the next character is non-zero then go back to `loop`\n    HLT\n\nmessage:\n    DB "Hello World!\\n"\n')),R.onclick=D,T.addEventListener("keypress",(e=>{"Enter"==e.key&&(H(T.value+"\n"),T.value="")}))}();
//# sourceMappingURL=index.ec23e3a2.js.map
