(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4056)}])},6902:function(e,t,n){"use strict";e=n.nmd(e),ace.define("ace/mode/assembly_intcode_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"keyword.control",regex:"\\b(?:ADD|MUL|IN|OUT|JNZ|JZ|LT|EQ|ARB|HLT|DB)\\b"},{token:"variable.language",regex:"\\b(?:_|ip|rb)\\b"},{token:"keyword.operator",regex:"(?:#)"},{token:"constant.numeric",regex:"\\b(?:[0-9][A-z0-9]*)\\b"},{token:"string",regex:/'([^\\']|\\.)*'/},{token:"string",regex:/"([^\\"]|\\.)*"/},{token:"entity.name.function",regex:"^[\\w.]+?:"},{token:"entity.name.function",regex:"\\b(?:[a-z_]+)\\b"},{token:"comment",regex:";.*$"}]},this.normalizeRules()};a.metaData={fileTypes:["asm"],name:"Assembly Intcode"},r.inherits(a,o),t.AssemblyIntcodeHighlightRules=a})),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],(function(e,t,n){var r=e("../../lib/oop"),o=e("./fold_mode").FoldMode,a=e("../../range").Range,i=t.FoldMode=function(){};r.inherits(i,o),function(){this.getFoldWidgetRange=function(e,t,n){var r=this.indentationBlock(e,n);if(r)return r;var o=/\S/,i=e.getLine(n),s=i.search(o);if(-1!=s&&"#"==i[s]){for(var l=i.length,c=e.getLength(),u=n,d=n;++n<c;){var p=(i=e.getLine(n)).search(o);if(-1!=p){if("#"!=i[p])break;d=n}}if(d>u){var h=e.getLine(d).length;return new a(u,l,d,h)}}},this.getFoldWidget=function(e,t,n){var r=e.getLine(n),o=r.search(/\S/),a=e.getLine(n+1),i=e.getLine(n-1),s=i.search(/\S/),l=a.search(/\S/);if(-1==o)return e.foldWidgets[n-1]=-1!=s&&s<l?"start":"","";if(-1==s){if(o==l&&"#"==r[o]&&"#"==a[o])return e.foldWidgets[n-1]="",e.foldWidgets[n+1]="","start"}else if(s==o&&"#"==r[o]&&"#"==i[o]&&-1==e.getLine(n-2).search(/\S/))return e.foldWidgets[n-1]="start",e.foldWidgets[n+1]="","";return e.foldWidgets[n-1]=-1!=s&&s<o?"start":"",o<l?"start":""}}.call(i.prototype)})),ace.define("ace/mode/assembly_intcode",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/assembly_intcode_highlight_rules","ace/mode/folding/coffee"],(function(e,t,n){var r=e("../lib/oop"),o=e("./text").Mode,a=e("./assembly_intcode_highlight_rules").AssemblyIntcodeHighlightRules,i=e("./folding/coffee").FoldMode,s=function(){this.HighlightRules=a,this.foldingRules=new i,this.$behaviour=this.$defaultBehaviour};r.inherits(s,o),function(){this.lineCommentStart=[";"],this.$id="ace/mode/assembly_intcode"}.call(s.prototype),t.Mode=s})),ace.require(["ace/mode/assembly_intcode"],(function(t){e&&(e.exports=t)}))},4056:function(e,t,n){"use strict";n.r(t),n.d(t,{State:function(){return h},default:function(){return m}});var r=n(8520),o=n.n(r),a=n(5893),i=n(5152),s=n(7294),l=n(482),c=n(3153);function u(e,t,n,r,o,a,i){try{var s=e[a](i),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,s,"next",e)}function s(e){u(a,r,o,i,s,"throw",e)}i(void 0)}))}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h={WAITING:1,COMPLETE:2};Object.freeze(h);var f=[{file:"./examples/hello-world.ints",code:'    ARB #message  ; move the relative base to the beginning of our message\n\nloop:\n    OUT rb        ; output the current character in the message\n    ARB #1        ; move the relative base to the next character\n    JNZ rb, #loop ; if the next character is non-zero then go back to `loop`\n    HLT\n\nmessage:\n    DB "Hello World!\\n"\n'},{file:"./examples/echo.ints",code:"; This example demonstrates how you can implement a pointer to a string. An\n; input is read into `message` and then immediately output.\n\n    ADD #message, #-1, ptr ; set `ptr` to the beginning of `message`\ninput:\n    ADD ptr, #1, ptr       ; increment the `ptr` value\n    ADD ptr, #0, ip+1      ; set the first parameter of `IN` to the `ptr` value\n    IN  _                  ; read the next character\n    ADD ptr, #0, ip+1      ; set the first parameter of `EQ` to the `ptr` value\n    EQ  _, #10, ip+1       ; check whether the character is equal to a newline\n    JZ  #_, #input         ; if the next character is not-equal, then loop\n\n    ADD #message, #0, ptr  ; set `ptr` to the beginning of `message`\noutput:\n    ADD ptr, #0, ip+1      ; set the first parameter of `OUT` to the `ptr` value\n    OUT _                  ; output the next character\n    ADD ptr, #1, ptr       ; increment the `ptr` value\n    ADD ptr, #0, ip+1      ; set the first parameter of `JNZ` to the `ptr` value\n    JNZ _, #output         ; if the next character is non-zero, then loop\n\n    HLT\n\nptr:\n    DB 0\nmessage:\n    DB 0\n"},{file:"./examples/function.ints",code:"; This example demonstrates how you can implement a stack and function call. The\n; `_main` routine calls `function` with two parameters and outputs the return\n; value.\n\n    ARB #end+10           ; allocate 10 addresses for the stack\n\n_main:\n    ADD  #72,    #0, rb-1 ; push the first parameter to the stack\n    ADD #105,    #0, rb-2 ; push the second parameter to the stack\n    ADD #return, #0, rb-3 ; push the return address to the stack\n    ARB #-3\n    JZ  #0, #function     ; call `function`\n  return:\n    OUT rb-4              ; output the value returned by `function`\n\n    HLT                   ; end the program\n\nfunction:\n    ARB #-1               ; reserve stack space for one local variable\n    OUT rb+3              ; output the first parameter\n    OUT rb+2              ; output the second parameter\n    ADD #10, #0, rb       ; the local variable will be the return value\n    ARB #1                ; remove the local variable from the stack\n    ARB #3                ; remove the two parameters and return from the stack\n    JZ  #0, rb-3          ; jump to the return address\n\nend:\n    DB 0\n"}];function m(){var e=(0,s.useState)(null),t=e[0],r=e[1],i=(0,s.useState)(null),l=i[0],c=i[1],u=(0,s.useState)(f[0]),m=u[0],x=u[1],b=(0,s.useState)(h.COMPLETE),w=b[0],y=b[1],j=(0,s.useState)({compiledIntcode:"",compilerOutput:"",programOutput:[]}),k=j[0],_=j[1];(0,s.useEffect)((function(){d(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(665).then(n.bind(n,4665));case 2:(t=e.sent).init(),c(t);case 5:case"end":return e.stop()}}),e)})))()}));return(0,a.jsxs)("div",{class:"h-screen w-screen flex flex-col bg-gray-lighter text-white font-mono",children:[(0,a.jsx)(g,{example:m,setExample:function(e){x(e),y(h.COMPLETE)},state:w,onRun:function(){y(h.WAITING);var e=l.assemble(t.getValue());if("Failed"==e.state)return _({compiledIntcode:e.intcode,compilerOutput:e.output}),void y(h.COMPLETE);var n=l.next(null);_({compiledIntcode:e.intcode,compilerOutput:e.output,programOutput:[n.output]}),"Complete"==n.state&&y(h.COMPLETE)},onCancel:function(){y(h.COMPLETE)}}),(0,a.jsx)(v,{contents:m.code,state:w,onLoad:function(e){r(e)},onEdited:function(e){var t=f.find((function(t){return t.code===e}));x(t||{file:""})},onInput:function(e){var t=l.next(e+"\n");_(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},k,{programOutput:k.programOutput.concat(t.output)})),"Complete"==t.state&&y(h.COMPLETE)},output:k})]})}function g(e){var t=e.example,n=e.setExample,r=e.state,o=e.onRun,i=e.onCancel;return(0,a.jsxs)("div",{class:"flex flex-row p-2 pb-0 gap-1",children:[(0,a.jsx)(x,{state:r,onRun:o,onCancel:i}),(0,a.jsx)(b,{selected:t,onChange:n})]})}function x(e){var t=e.state,n=e.onRun,r=e.onCancel;switch(t){case h.WAITING:return(0,a.jsxs)("button",{class:"group w-28 p-2 rounded shadow-sm bg-purple transition-all font-mono text-white text-md tracking-widest uppercase",onClick:r,children:[(0,a.jsx)("span",{class:"group-hover:hidden inline-flex align-middle h-5 w-5 rounded-full border-white border-t-transparent border-2 animate-spin-fast transition-all"}),(0,a.jsx)("span",{class:"hidden group-hover:inline transition-all",children:"Cancel"})]});case h.COMPLETE:return(0,a.jsx)("button",{class:"w-28 p-2 rounded shadow-sm bg-blue hover:bg-purple transition-all font-mono text-white text-md tracking-widest uppercase transition-all",onClick:n,children:(0,a.jsx)("span",{children:"Run"})})}}function b(e){var t=e.selected,n=e.onChange;return(0,a.jsx)("div",{class:"w-72 font-mono text-sm italic cursor-pointer z-10",children:(0,a.jsxs)(l.R,{value:t,onChange:n,children:[(0,a.jsxs)(l.R.Button,{class:"inline-flex w-72 px-4 py-3 rounded shadow-sm bg-white hover:bg-gray-lightest transition-all text-gray hover:text-black",children:[(0,a.jsx)("span",{class:"flex-grow text-left",children:t.file}),(0,a.jsx)(c.Ta4,{class:"-mr-2 ml-2 h-5 w-5","aria-hidden":"true"})]}),(0,a.jsx)(l.R.Options,{class:"absolute w-72 mt-1 max-h-60 overflow-auto rounded shadow-lg",children:f.map((function(e,t){return(0,a.jsx)(l.R.Option,{class:"pl-4 pr-8 py-2 bg-white hover:bg-purple text-gray hover:text-white",value:e,children:e.file},t)}))})]})})}function v(e){return(0,a.jsxs)("div",{class:"grid auto md:grid-cols-7 gap-2 p-2 font-mono",children:[(0,a.jsxs)("div",{class:"flex flex-col col-span-4 auto",children:[(0,a.jsx)("div",{class:"flex-none p-2 rounded-t-md bg-gray-dark text-gray-light text-sm uppercase tracking-widest",children:"Editor"}),(0,a.jsx)("div",{class:"flex-grow",children:(0,a.jsx)(w,{height:"100%",width:"100%",fontSize:"1rem",name:"editor",mode:"assembly_intcode",theme:"tomorrow_night_eighties",onLoad:e.onLoad,value:e.contents,onChange:e.onEdited})})]}),(0,a.jsxs)("div",{class:"flex flex-col col-span-3 auto",children:[(0,a.jsx)("div",{class:"flex-none p-2 rounded-t-md bg-gray-dark text-gray-light text-sm uppercase tracking-widest",children:"Output"}),(0,a.jsx)("div",{class:"flex-grow p-2 rounded-b-md bg-gray-darker text-gray-light text-md overflow-scroll",children:(0,a.jsxs)("div",{class:"flex flex-col gap-4",children:[e.output.compiledIntcode&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{class:"text-green",children:"Compiled intcode:"}),(0,a.jsx)("p",{class:"break-all",children:e.output.compiledIntcode})]}),e.output.compilerOutput&&(0,a.jsx)("div",{children:(0,a.jsx)("pre",{dangerouslySetInnerHTML:{__html:e.output.compilerOutput}})}),e.output.compiledIntcode&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{class:"text-green",children:"Program output:"}),e.output.programOutput.map((function(e){return(0,a.jsx)("pre",{children:e})}))]}),e.state==h.WAITING&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{class:"text-yellow pb-2",children:"Program input:"}),(0,a.jsx)("input",{class:"w-full block py-1 px-2 rounded-sm focus:outline-blue bg-gray text-white",type:"text",name:"name",autoFocus:!0,autoComplete:"off",onKeyUp:function(t){if("Enter"===t.key){var n=t.target.value;t.target.value="",e.onInput(n)}}})]})]})})]})]})}var w=(0,i.default)(d(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(281),n.e(981)]).then(n.bind(n,4981));case 2:return t=e.sent,n(6902),n(3494),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))),{loadableGenerated:{webpack:function(){return[4981]},modules:["index.js -> react-ace"]},loading:function(){return(0,a.jsx)("div",{class:"text-black",children:"Loading editor..."})},ssr:!1})}},function(e){e.O(0,[774,569,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);